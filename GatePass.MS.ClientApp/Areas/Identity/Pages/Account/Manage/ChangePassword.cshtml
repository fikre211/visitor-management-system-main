@page
@model GatePass.MS.ClientApp.Areas.Identity.Pages.Account.UserChangePasswordModel
@{
    ViewData["Title"] = "Change password";
    var companyName = ViewData["companyName"]?.ToString();
}

<div style="padding: 30px; background: #f7faff; font-family: Segoe UI, Arial, sans-serif;">

    <div style="max-width: 650px; margin: 0 auto;">

        <div style="background: white; border-top: 4px solid #007bff; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">

            <div style="background-color: #f0f7ff; border-bottom: 1px solid #cce5ff; padding: 20px;">
                <h3 style="margin: 0; color: #0056b3;">
                    <i class="fas fa-lock mr-2"></i> @ViewData["Title"]
                </h3>
            </div>

            <div style="padding: 25px;">

                @* Status Message Styling *@
                @if (!string.IsNullOrEmpty(Model.StatusMessage))
                {
                    <div class="alert alert-success" style="padding: 12px 20px; border-radius: 6px; border-left: 5px solid #28a745; background-color: #d4edda; color: #155724; margin-bottom: 20px;">
                        <i class="fas fa-check-circle mr-2"></i> @Model.StatusMessage
                    </div>
                }

                <form id="change-password-form" method="post" asp-route-companyName="@companyName">
                    <div asp-validation-summary="All" class="text-danger" style="margin-bottom: 15px;"></div>

                    @* Current Password Field *@
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label asp-for="Input.OldPassword" style="font-weight: 600; color: #333; display: block; margin-bottom: 5px;">Current password</label>
                        <input asp-for="Input.OldPassword" class="form-control" style="border: 1px solid #b3d7ff; border-radius: 4px; padding: 10px;" />
                        <span asp-validation-for="Input.OldPassword" class="text-danger small" style="font-size: 16px;"></span>
                    </div>

                    @* New Password Field *@
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label asp-for="Input.NewPassword" style="font-weight: 600; color: #333; display: block; margin-bottom: 5px;">New password</label>
                        <input asp-for="Input.NewPassword" class="form-control" style="border: 1px solid #b3d7ff; border-radius: 4px; padding: 10px;" />
                        <span asp-validation-for="Input.NewPassword" class="text-danger small" style="font-size: 16px;"></span>
                    </div>

                    @* Confirm New Password Field *@
                    <div class="form-group" style="margin-bottom: 25px;">
                        <label asp-for="Input.ConfirmPassword" style="font-weight: 600; color: #333; display: block; margin-bottom: 5px;">Confirm new password</label>
                        <input asp-for="Input.ConfirmPassword" class="form-control" style="border: 1px solid #b3d7ff; border-radius: 4px; padding: 10px;" />
                        <span asp-validation-for="Input.ConfirmPassword" class="text-danger small" style="font-size: 16px;"></span>
                    </div>

                    @* Submit Button *@
                    <div class="form-group text-right">
                        <button type="submit" class="btn btn-primary" style="background:#007bff; border-color:#007bff; padding:10px 25px; border-radius:6px; font-weight:600; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
                            <i class="fas fa-sync-alt mr-1"></i> Update password
                        </button>
                    </div>
                </form>

                @* Back to Profile Link *@
                <div style="margin-top: 25px; border-top: 1px solid #f0f0f0; padding-top: 15px;">
                    <a asp-area="Identity"
                       asp-page="/Account/Manage/Index"
                       asp-route-companyName="@companyName"
                       class="btn btn-secondary"
                       style="background:#6c757d; border-color:#6c757d; color:white; padding:8px 15px; border-radius:6px; text-decoration: none;">
                        <i class="fas fa-arrow-left mr-1"></i> Back to Profile
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}