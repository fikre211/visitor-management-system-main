@using GatePass.MS.Domain.ViewModels
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@model GuestActivityReportModel

@{
    ViewBag.Title = "Guest Activity Report";

}
<div class="container-worap">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header bg-info">

                    <form asp-action="GuestActivityReport" method="get" class="row mb-4">
                        <div class="col-md-3 form-group">
                            <label for="startDate">@Localizer["Start Date"]:</label>
                            <input type="date" id="startDate" name="startDate" value="@Model.StartDate?.ToString("yyyy-MM-dd")" class="form-control" />
                        </div>
                        <div class="col-md-3 form-group">
                            <label for="endDate">@Localizer["End Date"]:</label>
                            <input type="date" id="endDate" name="endDate" value="@Model.EndDate?.ToString("yyyy-MM-dd")" class="form-control" />
                        </div>
                        <div class="form-group">
                            <label asp-for="SelectedGuestId">@Localizer["Select User"]</label>
                            <select asp-for="SelectedGuestId" class="form-control" asp-items="Model.Guests">
                                <option value="">@Localizer["All Guests"]</option>
                            </select>
                        </div>
                        <div class="col-md-2 form-group">
                            <button type="submit" class="btn btn-success mt-4">Filter <i class="fa fa-filter"></i></button>
                        </div>

                    </form>
                </div>
                <!-- /.card-header -->

                <div class="card-body table-responsive p-0" style="height: 420px;">
                    <table id="myDataTable" class="table table-bordered table-striped table-head-fixed">
                        <thead>
                            <tr>
                                <th>@Localizer["Visitor Name"]</th>
                                <th>@Localizer["Visitor Email"]
                                <th />
                                <th>@Localizer["Timestamp"]</th>
                                <th>@Localizer["Activity Type"]</th>
                                <th>@Localizer['Activity Description']</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var activity in Model.Activities)
                            {
                                <tr>
                                    <td>@activity.FirstName @activity.LastName</td> <!-- Show Full Name -->
                                    <td>@activity.Email</td>
                                    <td>@activity.Timestamp.ToString("MMM d, yyyy h:mm tt")</td>
                                    <td>@activity.ActivityType</td>
                                    <td>@activity.ActivityDescription</td>
                                </tr>
                            }
                        </tbody>
                    </table>
                </div>
                <!-- /.card-body -->
            </div>
            <!-- /.card -->
        </div>
    </div>
</div>
<!-- /.row -->
